syntax = "proto3";

import "protobuf/definition/service.proto";

package api;

// TODO(ilgooz): FIXME: this should be renamed to Service.
// right now we have conflicts with api.Service.
service ServiceX {
  rpc Create (CreateServiceRequest) returns (CreateServiceResponse) {}
  rpc Delete (DeleteServiceRequest) returns (DeleteServiceResponse) {}

  // Get returns a single Service specified in a request.
  rpc Get(GetServiceRequest) returns (definition.Service) {}

  // List returns services specified in a request.
  rpc List(ListServiceRequest) returns (ListServiceResponse) {}
}

message CreateServiceRequest {
  definition.Service definition = 1;
}

message CreateServiceResponse {
  string hash = 1;
  string sid = 2;
}

message DeleteServiceRequest {
  string hash = 1;
}

message DeleteServiceResponse {
}

// GetServiceRequest defines request to retrieve a single service.
message GetServiceRequest {
  string hash = 1;
}

message ListServiceRequest {}

message ListServiceResponse {
  repeated definition.Service services = 1;
}
