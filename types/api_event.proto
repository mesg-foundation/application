syntax = "proto3";

package types;

import "service.proto";

service Event {
  // Service
  rpc Emit (EmitEventRequest) returns (EventReply) {}

  // Application
  rpc Listen (ListenEventRequest) returns (stream EventReply) {}
}

message EmitEventRequest {
  ProtoService service = 1;
  string event = 2;
  string data = 3;
}

message ListenEventRequest {
  ProtoService service = 1;
}

message EventReply {
  string error = 1;
  string event = 2;
  string data = 3;
}