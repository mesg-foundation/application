syntax = "proto3";

package types;

import "service.proto";

service Task {
  // Service
  rpc Listen (ListenTaskRequest) returns (stream TaskReply) {}
  
  // Application
  rpc Execute (ExecuteTaskRequest) returns (TaskReply) {}
}

message ExecuteTaskRequest {
  ProtoService service = 1;
  string task = 2;
  string data = 3;
}

message ListenTaskRequest {
  ProtoService service = 1;
}

message TaskReply {
  string executionID = 1;
  string error = 2;
  string task = 3;
  string data = 4;
}
