name: test-service
sid: test-service
configuration:
  env:
    - FOO=1
    - BAR=2
    - REQUIRED
tasks:
  task_trigger:
    inputs: &simpleInputs
      msg:
        type: String
    outputs: &simpleOutputs
      msg:
        type: String
      timestamp:
        type: Number
  task1:
    inputs: *simpleInputs
    outputs: *simpleOutputs
  task2:
    inputs: *simpleInputs
    outputs: *simpleOutputs
  task_complex:
    inputs: &complexInputs
      msg:
        type: Object
        object:
          msg:
            type: String
          array:
            type: String
            repeated: true
            optional: true
    outputs: &complexOutputs
      msg:
        type: Object
        object:
          msg:
            type: String
          timestamp:
            type: Number
          array:
            type: String
            repeated: true
            optional: true
  task_complex_trigger:
    inputs: *complexInputs
    outputs: *complexOutputs
events:
  service_ready:
  event_trigger:
    data: *simpleOutputs
  event_complex_trigger:
    data: *complexOutputs
